{"ast":null,"code":"/* \n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\nexport default class DossierResource {\n  constructor(dossierApi, {\n    dossierKey,\n    dossierPackage,\n    dossierCode\n  }) {\n    this.dossierApi = dossierApi;\n    this.dossierKey = dossierKey;\n    this.dossierPackage = dossierPackage;\n    this.dossierCode = dossierCode;\n  }\n\n  getDossier() {\n    return this.dossierApi.getDossier(this.dossierKey, this.dossierPackage, this.dossierCode);\n  }\n\n  getDossierFileResource(fileCode) {\n    return new DossierFileResource(this.dossierApi, {\n      dossierKey: this.dossierKey,\n      dossierPackage: this.dossierPackage,\n      dossierCode: this.dossierCode,\n      fileCode\n    });\n  }\n\n}\nexport class DossierFileResource {\n  constructor(dossierApi, {\n    dossierKey,\n    dossierPackage,\n    dossierCode,\n    fileCode\n  }) {\n    this.dossierApi = dossierApi;\n    this.dossierKey = dossierKey;\n    this.dossierPackage = dossierPackage;\n    this.dossierCode = dossierCode;\n    this.fileCode = fileCode;\n  }\n\n  uploadContents(file) {\n    return this.dossierApi.uploadContents(this.fileCode, this.dossierKey, this.dossierPackage, this.dossierCode, {\n      file\n    });\n  }\n\n  getDownloadLink() {\n    let prefix = ''; //development mode\n\n    if (window.location.host.indexOf('.') === -1) {\n      prefix = 'http://localhost:8080';\n    }\n\n    ;\n    return prefix + this.dossierApi.apiClient.basePath + '/dossiers/' + this.dossierKey + '/' + this.dossierPackage + '/' + this.dossierCode + '/dossierfiles/' + this.fileCode;\n  }\n\n}","map":{"version":3,"sources":["/home/develop01/work/filedossier/filedossier-js/src/DossierResource.js"],"names":["DossierResource","constructor","dossierApi","dossierKey","dossierPackage","dossierCode","getDossier","getDossierFileResource","fileCode","DossierFileResource","uploadContents","file","getDownloadLink","prefix","window","location","host","indexOf","apiClient","basePath"],"mappings":"AAAA;;;;;AAOA,eAAe,MAAMA,eAAN,CAAsB;AAEjCC,EAAAA,WAAW,CAACC,UAAD,EAAa;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,cAAd;AAA8BC,IAAAA;AAA9B,GAAb,EAA0D;AACjE,SAAKH,UAAL,GAAkBA,UAAlB;AACA,SAAKC,UAAL,GAAkBA,UAAlB;AACA,SAAKC,cAAL,GAAsBA,cAAtB;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACH;;AAEDC,EAAAA,UAAU,GAAG;AACT,WAAO,KAAKJ,UAAL,CAAgBI,UAAhB,CAA2B,KAAKH,UAAhC,EAA4C,KAAKC,cAAjD,EAAiE,KAAKC,WAAtE,CAAP;AACH;;AAEDE,EAAAA,sBAAsB,CAACC,QAAD,EAAW;AAC7B,WAAO,IAAIC,mBAAJ,CAAwB,KAAKP,UAA7B,EAAyC;AAACC,MAAAA,UAAU,EAAE,KAAKA,UAAlB;AAA8BC,MAAAA,cAAc,EAAE,KAAKA,cAAnD;AAAmEC,MAAAA,WAAW,EAAE,KAAKA,WAArF;AAAkGG,MAAAA;AAAlG,KAAzC,CAAP;AACH;;AAfgC;AAmBrC,OAAO,MAAMC,mBAAN,CAA0B;AAE7BR,EAAAA,WAAW,CAACC,UAAD,EAAa;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,cAAd;AAA8BC,IAAAA,WAA9B;AAA2CG,IAAAA;AAA3C,GAAb,EAAoE;AAC3E,SAAKN,UAAL,GAAkBA,UAAlB;AACA,SAAKC,UAAL,GAAkBA,UAAlB;AACA,SAAKC,cAAL,GAAsBA,cAAtB;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKG,QAAL,GAAgBA,QAAhB;AACH;;AAEDE,EAAAA,cAAc,CAACC,IAAD,EAAO;AACjB,WAAO,KAAKT,UAAL,CAAgBQ,cAAhB,CAA+B,KAAKF,QAApC,EAA8C,KAAKL,UAAnD,EAA+D,KAAKC,cAApE,EAAoF,KAAKC,WAAzF,EAAsG;AAACM,MAAAA;AAAD,KAAtG,CAAP;AACH;;AAEDC,EAAAA,eAAe,GAAG;AACd,QAAIC,MAAM,GAAC,EAAX,CADc,CAEd;;AACA,QAAIC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,OAArB,CAA6B,GAA7B,MAAoC,CAAC,CAAzC,EAA4C;AACxCJ,MAAAA,MAAM,GAAC,uBAAP;AACH;;AAAA;AACD,WAAOA,MAAM,GAAG,KAAKX,UAAL,CAAgBgB,SAAhB,CAA0BC,QAAnC,GAA8C,YAA9C,GAA6D,KAAKhB,UAAlE,GAA+E,GAA/E,GAAqF,KAAKC,cAA1F,GAA2G,GAA3G,GAAiH,KAAKC,WAAtH,GAAoI,gBAApI,GAAuJ,KAAKG,QAAnK;AACH;;AArB4B","sourcesContent":["/* \n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n\n\nexport default class DossierResource {\n\n    constructor(dossierApi, { dossierKey, dossierPackage, dossierCode }) {\n        this.dossierApi = dossierApi;\n        this.dossierKey = dossierKey;\n        this.dossierPackage = dossierPackage;\n        this.dossierCode = dossierCode;\n    }\n\n    getDossier() {\n        return this.dossierApi.getDossier(this.dossierKey, this.dossierPackage, this.dossierCode);\n    }\n\n    getDossierFileResource(fileCode) {\n        return new DossierFileResource(this.dossierApi, {dossierKey: this.dossierKey, dossierPackage: this.dossierPackage, dossierCode: this.dossierCode, fileCode});\n    }\n\n}\n\nexport class DossierFileResource {\n\n    constructor(dossierApi, { dossierKey, dossierPackage, dossierCode, fileCode }) {\n        this.dossierApi = dossierApi;\n        this.dossierKey = dossierKey;\n        this.dossierPackage = dossierPackage;\n        this.dossierCode = dossierCode;\n        this.fileCode = fileCode;\n    }\n\n    uploadContents(file) {\n        return this.dossierApi.uploadContents(this.fileCode, this.dossierKey, this.dossierPackage, this.dossierCode, {file});\n    }\n\n    getDownloadLink() {\n        let prefix='';\n        //development mode\n        if (window.location.host.indexOf('.')===-1) {\n            prefix='http://localhost:8080';\n        };\n        return prefix + this.dossierApi.apiClient.basePath + '/dossiers/' + this.dossierKey + '/' + this.dossierPackage + '/' + this.dossierCode + '/dossierfiles/' + this.fileCode;\n    }\n\n}"]},"metadata":{},"sourceType":"module"}