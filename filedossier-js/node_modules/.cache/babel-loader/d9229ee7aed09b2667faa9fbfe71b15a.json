{"ast":null,"code":"import _slicedToArray from \"/home/develop01/work/filedossier/filedossier-js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState } from 'react';\nexport function useResource(source) {\n  const _useState = useState({\n    value: null,\n    error: null,\n    loading: false\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const fetch = async function () {\n    setData({\n      value: null,\n      error: null,\n      loading: true\n    });\n\n    try {\n      const json = await source();\n      console.log('json data', json);\n      setData({\n        value: json,\n        error: null,\n        loading: false\n      });\n    } catch (e) {\n      console.log('error', e);\n      setData({\n        value: null,\n        error: e.statusText,\n        loading: false\n      });\n    }\n  };\n\n  return [data, fetch];\n}","map":{"version":3,"sources":["/home/develop01/work/filedossier/filedossier-js/src/ReactHelper.js"],"names":["useState","useResource","source","value","error","loading","data","setData","fetch","json","console","log","e","statusText"],"mappings":";AAAA,SAASA,QAAT,QAAyB,OAAzB;AAEA,OAAO,SAASC,WAAT,CAAqBC,MAArB,EAA6B;AAAA,oBACRF,QAAQ,CAAC;AAACG,IAAAA,KAAK,EAAE,IAAR;AAAcC,IAAAA,KAAK,EAAE,IAArB;AAA2BC,IAAAA,OAAO,EAAE;AAApC,GAAD,CADA;AAAA;AAAA,QACzBC,IADyB;AAAA,QACnBC,OADmB;;AAEhC,QAAMC,KAAK,GAAG,kBAAkB;AAC5BD,IAAAA,OAAO,CAAC;AAACJ,MAAAA,KAAK,EAAE,IAAR;AAAcC,MAAAA,KAAK,EAAE,IAArB;AAA2BC,MAAAA,OAAO,EAAE;AAApC,KAAD,CAAP;;AACA,QAAI;AACA,YAAMI,IAAI,GAAG,MAAMP,MAAM,EAAzB;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,IAAzB;AACAF,MAAAA,OAAO,CAAC;AAACJ,QAAAA,KAAK,EAAEM,IAAR;AAAcL,QAAAA,KAAK,EAAE,IAArB;AAA2BC,QAAAA,OAAO,EAAE;AAApC,OAAD,CAAP;AACH,KAJD,CAIE,OAAOO,CAAP,EAAU;AACRF,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,CAArB;AACAL,MAAAA,OAAO,CAAC;AAACJ,QAAAA,KAAK,EAAE,IAAR;AAAcC,QAAAA,KAAK,EAAEQ,CAAC,CAACC,UAAvB;AAAmCR,QAAAA,OAAO,EAAE;AAA5C,OAAD,CAAP;AACH;AACJ,GAVD;;AAYA,SAAO,CAACC,IAAD,EAAOE,KAAP,CAAP;AACH","sourcesContent":["import { useState } from 'react';\n\nexport function useResource(source) {\n    const [data, setData] = useState({value: null, error: null, loading: false});\n    const fetch = async function () {\n        setData({value: null, error: null, loading: true});\n        try {\n            const json = await source();\n            console.log('json data', json);\n            setData({value: json, error: null, loading: false});\n        } catch (e) {\n            console.log('error', e);\n            setData({value: null, error: e.statusText, loading: false});\n        }\n    };\n\n    return [data, fetch];\n}\n"]},"metadata":{},"sourceType":"module"}